<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API æ–‡æ¡£ - Fast Bean Copier</title>
    <link rel="icon" type="image/png" href="../favicon.png">
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo-container">
                <img src="../logo.png" alt="Fast Bean Copier Logo" class="logo">
                <h1>ğŸš€ Fast Bean Copier</h1>
            </div>
            <p>é«˜æ€§èƒ½çš„ Java Bean æ‹·è´å·¥å…·</p>
            <div class="version-badge">ç‰ˆæœ¬ 1.2.1</div>
        </div>
    </header>
    
    <nav>
        <ul>
            <li><a href="index.html">é¦–é¡µ</a></li>
            <li><a href="getting-started.html">å¿«é€Ÿå…¥é—¨</a></li>
            <li><a href="reference.html">å‚è€ƒæ–‡æ¡£</a></li>
            <li><a href="api.html" class="active">API æ–‡æ¡£</a></li>
            <li><a href="faq.html">å¸¸è§é—®é¢˜</a></li>
            <li><a href="summary.html">é¡¹ç›®æ€»ç»“</a></li>
            <li><a href="changelog.html">æ›´æ–°æ—¥å¿—</a></li>
        </ul>
    </nav>
    
    <div class="container">
        <div class="content">
            <h1>Fast Bean Copier API æ–‡æ¡£</h1>
            
            <div class="highlight-box">
                <p><strong>v1.2 æ–°å¢ï¼š</strong>å¤šå­—æ®µæ˜ å°„ï¼ˆå¤šå¯¹ä¸€ã€ä¸€å¯¹å¤šï¼‰ã€TypeConverter ç±»å‹è½¬æ¢å™¨ã€ä¾èµ–æ³¨å…¥æ”¯æŒï¼ˆSpring/CDI/JSR330ï¼‰ã€å‡½æ•°å¼å®šåˆ¶æ‹·è´ã€‚</p>
            </div>
            
            <h2>æ³¨è§£</h2>
            
            <h3>@CopyTarget</h3>
            <p>æ ‡è®°ç›®æ ‡ DTO ç±»ï¼ŒæŒ‡å®šæºç±»ã€è¦å¿½ç•¥çš„å­—æ®µã€è‡ªå®šä¹‰è½¬æ¢å™¨å’Œç»„ä»¶æ¨¡å‹ã€‚</p>
            
            <h4>å£°æ˜</h4>
            <pre><code>@Target(ElementType.TYPE)
@Retention(RetentionPolicy.SOURCE)
public @interface CopyTarget {
    /**
     * æºç±»çš„ç±»å‹ã€‚å¿…éœ€ã€‚
     */
    Class&lt;?&gt; source();
    
    /**
     * è¦å¿½ç•¥çš„å­—æ®µåæ•°ç»„ã€‚å¯é€‰ã€‚
     */
    String[] ignore() default {};
    
    /**
     * è‡ªå®šä¹‰è½¬æ¢å™¨ç±»åˆ—è¡¨ã€‚å¯é€‰ã€‚ï¼ˆv1.2ï¼‰
     */
    Class&lt;?&gt;[] uses() default {};
    
    /**
     * ç»„ä»¶æ¨¡å‹ï¼ˆä¾èµ–æ³¨å…¥æ¡†æ¶ï¼‰ã€‚å¯é€‰ã€‚ï¼ˆv1.2ï¼‰
     */
    ComponentModel componentModel() default ComponentModel.DEFAULT;
}</code></pre>
            
            <h4>å±æ€§</h4>
            <table>
                <thead>
                    <tr>
                        <th>å±æ€§</th>
                        <th>ç±»å‹</th>
                        <th>å¿…éœ€</th>
                        <th>è¯´æ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>source</code></td>
                        <td><code>Class&lt;?&gt;</code></td>
                        <td>æ˜¯</td>
                        <td>æºç±»çš„ç±»å‹</td>
                    </tr>
                    <tr>
                        <td><code>ignore</code></td>
                        <td><code>String[]</code></td>
                        <td>å¦</td>
                        <td>è¦å¿½ç•¥çš„å­—æ®µåæ•°ç»„</td>
                    </tr>
                    <tr>
                        <td><code>uses</code></td>
                        <td><code>Class&lt;?&gt;[]</code></td>
                        <td>å¦</td>
                        <td>è‡ªå®šä¹‰è½¬æ¢å™¨ç±»åˆ—è¡¨ï¼ˆv1.2ï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>componentModel</code></td>
                        <td><code>ComponentModel</code></td>
                        <td>å¦</td>
                        <td>ä¾èµ–æ³¨å…¥æ¡†æ¶é€‰æ‹©ï¼ˆv1.2ï¼‰</td>
                    </tr>
                </tbody>
            </table>
            
            <h4>ç¤ºä¾‹</h4>
            <pre><code>// åŸºæœ¬ç”¨æ³•
@CopyTarget(source = User.class)
public class UserDto {
    // ...
}

// å¿½ç•¥å­—æ®µ
@CopyTarget(source = User.class, ignore = {"password", "token"})
public class UserResponse {
    // ...
}

// ä½¿ç”¨è‡ªå®šä¹‰è½¬æ¢å™¨ï¼ˆv1.2ï¼‰
@CopyTarget(source = User.class, uses = {StringToListConverter.class})
public class UserDto {
    // ...
}

// Spring é›†æˆï¼ˆv1.2ï¼‰
@CopyTarget(source = User.class, componentModel = ComponentModel.SPRING)
public class UserDto {
    // ...
}</code></pre>
            
            <h3>@CopyFieldï¼ˆv1.2 æ–°å¢ï¼‰</h3>
            <p>æ ‡è®°ç›®æ ‡å­—æ®µï¼ŒæŒ‡å®šå­—æ®µçº§æ˜ å°„å’Œè½¬æ¢è§„åˆ™ã€‚</p>
            
            <h4>å£°æ˜</h4>
            <pre><code>@Target(ElementType.FIELD)
@Retention(RetentionPolicy.SOURCE)
public @interface CopyField {
    String[] source() default {};      // æºå­—æ®µåï¼ˆæ”¯æŒå¤šä¸ªï¼Œç”¨äºå¤šå¯¹ä¸€ï¼‰
    String target() default "";        // ç›®æ ‡å­—æ®µå
    String expression() default "";    // Java è¡¨è¾¾å¼
    String qualifiedByName() default "";  // å…·åè½¬æ¢æ–¹æ³•å
    Class&lt;? extends TypeConverter&lt;?, ?&gt;&gt; converter() default TypeConverter.None.class;
    String format() default "";        // æ ¼å¼å­—ç¬¦ä¸²
}</code></pre>
            
            <h4>ç¤ºä¾‹</h4>
            <pre><code>// å¤šå¯¹ä¸€æ˜ å°„
@CopyField(source = {"firstName", "lastName"}, 
           expression = "source.getFirstName() + \" \" + source.getLastName()")
private String fullName;

// ä½¿ç”¨ TypeConverter
@CopyField(converter = NumberFormatter.class, format = "#,##0.00")
private String priceText;

// ä½¿ç”¨å…·åæ–¹æ³•
@CopyField(qualifiedByName = "statusToName")
private String statusText;</code></pre>
            
            <h2>å†…ç½® TypeConverterï¼ˆv1.2ï¼‰</h2>
            
            <h3>NumberFormatter</h3>
            <p>å°†æ•°å­—æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚</p>
            <pre><code>@CopyField(converter = NumberFormatter.class, format = "#,##0.00")
private String priceText;  // 1234.5 -> "1,234.50"</code></pre>
            
            <h3>NumberParser</h3>
            <p>å°†å­—ç¬¦ä¸²è§£æä¸ºæ•°å­—ã€‚</p>
            <pre><code>@CopyField(converter = NumberParser.class, format = "#,##0.00")
private BigDecimal price;  // "1,234.50" -> 1234.50</code></pre>
            
            <h3>DateFormatter</h3>
            <p>å°†æ—¥æœŸæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚</p>
            <pre><code>@CopyField(converter = DateFormatter.class, format = "yyyy-MM-dd HH:mm:ss")
private String createTimeText;  // LocalDateTime -> "2025-12-29 10:30:00"</code></pre>
            
            <h3>DateParser</h3>
            <p>å°†å­—ç¬¦ä¸²è§£æä¸ºæ—¥æœŸã€‚</p>
            <pre><code>@CopyField(converter = DateParser.class, format = "yyyy-MM-dd")
private LocalDate createDate;  // "2025-12-29" -> LocalDate</code></pre>
            
            <h3>EnumStringConverter</h3>
            <p>æšä¸¾ä¸å­—ç¬¦ä¸²/æ•´æ•°äº’è½¬ã€‚</p>
            <pre><code>@CopyField(converter = EnumStringConverter.class)
private String statusText;  // Status.ACTIVE -> "ACTIVE"</code></pre>
            
            <h3>JsonConverter</h3>
            <p>å¯¹è±¡ä¸ JSON å­—ç¬¦ä¸²äº’è½¬ï¼ˆä¾èµ– Jacksonï¼‰ã€‚</p>
            <pre><code>@CopyField(converter = JsonConverter.class)
private String dataJson;  // Object -> JSON String</code></pre>
            
            <h2>ComponentModel æšä¸¾ï¼ˆv1.2ï¼‰</h2>
            <p>å®šä¹‰ä¾èµ–æ³¨å…¥æ¡†æ¶çš„ç»„ä»¶æ¨¡å‹ã€‚</p>
            <table>
                <thead>
                    <tr>
                        <th>å€¼</th>
                        <th>è¯´æ˜</th>
                        <th>ç”Ÿæˆçš„æ³¨è§£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>DEFAULT</code></td>
                        <td>æ— ä¾èµ–æ³¨å…¥ï¼Œä½¿ç”¨é™æ€æ–¹æ³•</td>
                        <td>æ— </td>
                    </tr>
                    <tr>
                        <td><code>SPRING</code></td>
                        <td>Spring æ¡†æ¶</td>
                        <td><code>@Component</code></td>
                    </tr>
                    <tr>
                        <td><code>CDI</code></td>
                        <td>CDI æ¡†æ¶</td>
                        <td><code>@ApplicationScoped</code></td>
                    </tr>
                    <tr>
                        <td><code>JSR330</code></td>
                        <td>JSR-330 æ ‡å‡†</td>
                        <td><code>@Named</code> + <code>@Singleton</code></td>
                    </tr>
                </tbody>
            </table>
            
            <h2>ç”Ÿæˆçš„ Copier ç±»</h2>
            
            <h3>æ–¹æ³•æ¦‚è§ˆ</h3>
            <p>ç”Ÿæˆçš„ Copier ç±»åŒ…å«ä»¥ä¸‹æ–¹æ³•ï¼š</p>
            <table>
                <thead>
                    <tr>
                        <th>æ–¹æ³•</th>
                        <th>è¯´æ˜</th>
                        <th>å‡½æ•°å¼é‡è½½ï¼ˆv1.2ï¼‰</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td><code>toDto(source)</code></td><td>å•ä¸ªå¯¹è±¡è½¬æ¢</td><td>âœ… <code>toDto(source, customizer)</code></td></tr>
                    <tr><td><code>fromDto(source)</code></td><td>å•ä¸ªå¯¹è±¡åå‘è½¬æ¢</td><td>âœ… <code>fromDto(source, customizer)</code></td></tr>
                    <tr><td><code>toDtoList(sources)</code></td><td>List è½¬æ¢</td><td>âœ… <code>toDtoList(sources, customizer)</code></td></tr>
                    <tr><td><code>toDtoSet(sources)</code></td><td>Set è½¬æ¢</td><td>âœ… <code>toDtoSet(sources, customizer)</code></td></tr>
                    <tr><td><code>fromDtoList(sources)</code></td><td>List åå‘è½¬æ¢</td><td>âœ… <code>fromDtoList(sources, customizer)</code></td></tr>
                    <tr><td><code>fromDtoSet(sources)</code></td><td>Set åå‘è½¬æ¢</td><td>âœ… <code>fromDtoSet(sources, customizer)</code></td></tr>
                    <tr><td><code>toDtoMap(sources)</code></td><td>Map è½¬æ¢</td><td>âŒ</td></tr>
                    <tr><td><code>fromDtoMap(sources)</code></td><td>Map åå‘è½¬æ¢</td><td>âŒ</td></tr>
                    <tr><td><code>toDtoArray(sources)</code></td><td>æ•°ç»„è½¬æ¢</td><td>âŒ</td></tr>
                    <tr><td><code>fromDtoArray(sources)</code></td><td>æ•°ç»„åå‘è½¬æ¢</td><td>âŒ</td></tr>
                </tbody>
            </table>
            <p><strong>æ³¨æ„</strong>ï¼šMap å’Œæ•°ç»„æ–¹æ³•æš‚ä¸æ”¯æŒå‡½æ•°å¼é‡è½½ã€‚</p>
            
            <h3>æ–¹æ³•è¯¦æƒ…</h3>
            
            <h4>toDto(source)</h4>
            <p>å°†æºå¯¹è±¡è½¬æ¢ä¸ºç›®æ ‡ DTO å¯¹è±¡ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static TargetType toDto(SourceType source)</code></pre>
            <p><strong>å‚æ•°</strong>ï¼š</p>
            <ul>
                <li><code>source</code> - æºå¯¹è±¡</li>
            </ul>
            <p><strong>è¿”å›å€¼</strong>ï¼š</p>
            <ul>
                <li>ç›®æ ‡ DTO å¯¹è±¡ï¼Œå¦‚æœæºå¯¹è±¡ä¸º nullï¼Œè¿”å› null</li>
            </ul>
            <p><strong>ç¤ºä¾‹</strong>ï¼š</p>
            <pre><code>User user = new User(1L, "å¼ ä¸‰", "zhangsan@example.com", 25);
UserDto userDto = UserDtoCopier.toDto(user);</code></pre>
            
            <h4>toDto(source, customizer)ï¼ˆv1.2 æ–°å¢ï¼‰</h4>
            <p>å°†æºå¯¹è±¡è½¬æ¢ä¸ºç›®æ ‡ DTO å¯¹è±¡ï¼Œå¹¶åº”ç”¨è‡ªå®šä¹‰é€»è¾‘ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static TargetType toDto(SourceType source, UnaryOperator&lt;TargetType&gt; customizer)</code></pre>
            <p><strong>ç¤ºä¾‹</strong>ï¼š</p>
            <pre><code>UserDto dto = UserDtoCopier.toDto(user, result -> {
    result.setDisplayName(result.getName().toUpperCase());
    return result;
});</code></pre>
            
            <h4>fromDto(source)</h4>
            <p>å°†ç›®æ ‡ DTO å¯¹è±¡è½¬æ¢å›æºå¯¹è±¡ï¼ˆåå‘æ‹·è´ï¼‰ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static SourceType fromDto(TargetType source)</code></pre>
            <p><strong>å‚æ•°</strong>ï¼š</p>
            <ul>
                <li><code>source</code> - ç›®æ ‡ DTO å¯¹è±¡</li>
            </ul>
            <p><strong>è¿”å›å€¼</strong>ï¼š</p>
            <ul>
                <li>æºå¯¹è±¡ï¼Œå¦‚æœç›®æ ‡å¯¹è±¡ä¸º nullï¼Œè¿”å› null</li>
            </ul>
            <p><strong>ç¤ºä¾‹</strong>ï¼š</p>
            <pre><code>UserDto userDto = new UserDto(1L, "å¼ ä¸‰", "zhangsan@example.com", 25);
User user = UserDtoCopier.fromDto(userDto);</code></pre>
            
            <h4>toDtoList(sources)</h4>
            <p>å°†æºå¯¹è±¡åˆ—è¡¨è½¬æ¢ä¸ºç›®æ ‡ DTO å¯¹è±¡åˆ—è¡¨ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static java.util.List&lt;TargetType&gt; toDtoList(java.util.List&lt;SourceType&gt; sources)</code></pre>
            <p><strong>å‚æ•°</strong>ï¼š</p>
            <ul>
                <li><code>sources</code> - æºå¯¹è±¡åˆ—è¡¨</li>
            </ul>
            <p><strong>è¿”å›å€¼</strong>ï¼š</p>
            <ul>
                <li>ç›®æ ‡ DTO å¯¹è±¡åˆ—è¡¨ï¼Œå¦‚æœæºåˆ—è¡¨ä¸º nullï¼Œè¿”å› null</li>
            </ul>
            <p><strong>ç¤ºä¾‹</strong>ï¼š</p>
            <pre><code>List&lt;User&gt; users = userRepository.findAll();
List&lt;UserDto&gt; userDtos = UserDtoCopier.toDtoList(users);</code></pre>
            
            <h4>toDtoSet(sources)</h4>
            <p>å°†æºå¯¹è±¡é›†åˆè½¬æ¢ä¸ºç›®æ ‡ DTO å¯¹è±¡é›†åˆã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static java.util.Set&lt;TargetType&gt; toDtoSet(java.util.Set&lt;SourceType&gt; sources)</code></pre>
            <p><strong>å‚æ•°</strong>ï¼š</p>
            <ul>
                <li><code>sources</code> - æºå¯¹è±¡é›†åˆ</li>
            </ul>
            <p><strong>è¿”å›å€¼</strong>ï¼š</p>
            <ul>
                <li>ç›®æ ‡ DTO å¯¹è±¡é›†åˆï¼Œå¦‚æœæºé›†åˆä¸º nullï¼Œè¿”å› null</li>
            </ul>
            <p><strong>ç¤ºä¾‹</strong>ï¼š</p>
            <pre><code>Set&lt;User&gt; users = new HashSet&lt;&gt;(userRepository.findAll());
Set&lt;UserDto&gt; userDtos = UserDtoCopier.toDtoSet(users);</code></pre>
            
            <h4>fromDtoList(sources)</h4>
            <p>å°†ç›®æ ‡ DTO å¯¹è±¡åˆ—è¡¨è½¬æ¢å›æºå¯¹è±¡åˆ—è¡¨ï¼ˆåå‘æ‹·è´ï¼‰ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static java.util.List&lt;SourceType&gt; fromDtoList(java.util.List&lt;TargetType&gt; sources)</code></pre>
            <p><strong>å‚æ•°</strong>ï¼š</p>
            <ul>
                <li><code>sources</code> - ç›®æ ‡ DTO å¯¹è±¡åˆ—è¡¨</li>
            </ul>
            <p><strong>è¿”å›å€¼</strong>ï¼š</p>
            <ul>
                <li>æºå¯¹è±¡åˆ—è¡¨ï¼Œå¦‚æœç›®æ ‡åˆ—è¡¨ä¸º nullï¼Œè¿”å› null</li>
            </ul>
            <p><strong>ç¤ºä¾‹</strong>ï¼š</p>
            <pre><code>List&lt;UserDto&gt; userDtos = request.getBody();
List&lt;User&gt; users = UserDtoCopier.fromDtoList(userDtos);</code></pre>
            
            <h4>fromDtoSet(sources)</h4>
            <p>å°†ç›®æ ‡ DTO å¯¹è±¡é›†åˆè½¬æ¢å›æºå¯¹è±¡é›†åˆï¼ˆåå‘æ‹·è´ï¼‰ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static java.util.Set&lt;SourceType&gt; fromDtoSet(java.util.Set&lt;TargetType&gt; sources)</code></pre>
            <p><strong>å‚æ•°</strong>ï¼š</p>
            <ul>
                <li><code>sources</code> - ç›®æ ‡ DTO å¯¹è±¡é›†åˆ</li>
            </ul>
            <p><strong>è¿”å›å€¼</strong>ï¼š</p>
            <ul>
                <li>æºå¯¹è±¡é›†åˆï¼Œå¦‚æœç›®æ ‡é›†åˆä¸º nullï¼Œè¿”å› null</li>
            </ul>
            
            <h4>fromDto(source, customizer)ï¼ˆv1.2 æ–°å¢ï¼‰</h4>
            <p>å°†ç›®æ ‡ DTO å¯¹è±¡è½¬æ¢å›æºå¯¹è±¡ï¼Œå¹¶åº”ç”¨è‡ªå®šä¹‰é€»è¾‘ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static SourceType fromDto(TargetType source, UnaryOperator&lt;SourceType&gt; customizer)</code></pre>
            <p><strong>ç¤ºä¾‹</strong>ï¼š</p>
            <pre><code>User user = UserDtoCopier.fromDto(userDto, result -> {
    result.setLastSynced(Instant.now());
    return result;
});</code></pre>
            
            <h4>toDtoList(sources, customizer)ï¼ˆv1.2 æ–°å¢ï¼‰</h4>
            <p>å°†æºå¯¹è±¡åˆ—è¡¨è½¬æ¢ä¸ºç›®æ ‡ DTO å¯¹è±¡åˆ—è¡¨ï¼Œå¹¶å¯¹æ¯ä¸ªå…ƒç´ åº”ç”¨è‡ªå®šä¹‰é€»è¾‘ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static java.util.List&lt;TargetType&gt; toDtoList(
    java.util.List&lt;SourceType&gt; sources, 
    UnaryOperator&lt;TargetType&gt; customizer)</code></pre>
            <p><strong>ç¤ºä¾‹</strong>ï¼š</p>
            <pre><code>List&lt;UserDto&gt; dtos = UserDtoCopier.toDtoList(users, result -> {
    result.setTimestamp(System.currentTimeMillis());
    return result;
});</code></pre>
            
            <h4>toDtoSet(sources, customizer)ï¼ˆv1.2 æ–°å¢ï¼‰</h4>
            <p>å°†æºå¯¹è±¡é›†åˆè½¬æ¢ä¸ºç›®æ ‡ DTO å¯¹è±¡é›†åˆï¼Œå¹¶å¯¹æ¯ä¸ªå…ƒç´ åº”ç”¨è‡ªå®šä¹‰é€»è¾‘ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static java.util.Set&lt;TargetType&gt; toDtoSet(
    java.util.Set&lt;SourceType&gt; sources, 
    UnaryOperator&lt;TargetType&gt; customizer)</code></pre>
            
            <h4>fromDtoList(sources, customizer)ï¼ˆv1.2 æ–°å¢ï¼‰</h4>
            <p>å°†ç›®æ ‡ DTO å¯¹è±¡åˆ—è¡¨è½¬æ¢å›æºå¯¹è±¡åˆ—è¡¨ï¼Œå¹¶å¯¹æ¯ä¸ªå…ƒç´ åº”ç”¨è‡ªå®šä¹‰é€»è¾‘ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static java.util.List&lt;SourceType&gt; fromDtoList(
    java.util.List&lt;TargetType&gt; sources, 
    UnaryOperator&lt;SourceType&gt; customizer)</code></pre>
            
            <h4>fromDtoSet(sources, customizer)ï¼ˆv1.2 æ–°å¢ï¼‰</h4>
            <p>å°†ç›®æ ‡ DTO å¯¹è±¡é›†åˆè½¬æ¢å›æºå¯¹è±¡é›†åˆï¼Œå¹¶å¯¹æ¯ä¸ªå…ƒç´ åº”ç”¨è‡ªå®šä¹‰é€»è¾‘ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static java.util.Set&lt;SourceType&gt; fromDtoSet(
    java.util.Set&lt;TargetType&gt; sources, 
    UnaryOperator&lt;SourceType&gt; customizer)</code></pre>
            
            <h4>toDtoMap(sources)</h4>
            <p>å°†æºå¯¹è±¡ Map è½¬æ¢ä¸ºç›®æ ‡ DTO Mapï¼ˆä¿ç•™ Keyï¼Œæ‹·è´ Valueï¼‰ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static &lt;K&gt; java.util.Map&lt;K, TargetType&gt; toDtoMap(java.util.Map&lt;K, SourceType&gt; sources)</code></pre>
            
            <h4>fromDtoMap(sources)</h4>
            <p>å°†ç›®æ ‡ DTO Map åå‘è½¬æ¢ä¸ºæºå¯¹è±¡ Mapã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static &lt;K&gt; java.util.Map&lt;K, SourceType&gt; fromDtoMap(java.util.Map&lt;K, TargetType&gt; sources)</code></pre>
            
            <h4>toDtoArray(sources)</h4>
            <p>å°†æºå¯¹è±¡æ•°ç»„è½¬æ¢ä¸ºç›®æ ‡ DTO æ•°ç»„ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static TargetType[] toDtoArray(SourceType[] sources)</code></pre>
            
            <h4>fromDtoArray(sources)</h4>
            <p>å°†ç›®æ ‡ DTO æ•°ç»„è½¬æ¢å›æºå¯¹è±¡æ•°ç»„ã€‚</p>
            <p><strong>ç­¾å</strong>ï¼š</p>
            <pre><code>public static SourceType[] fromDtoArray(TargetType[] sources)</code></pre>
            
            <h2>ç±»å‹è½¬æ¢</h2>
            
            <h3>æ”¯æŒçš„ç±»å‹è½¬æ¢</h3>
            <p>Fast Bean Copier è‡ªåŠ¨æ”¯æŒä»¥ä¸‹ç±»å‹è½¬æ¢ï¼š</p>
            
            <h4>åŸºæœ¬ç±»å‹ â†” åŒ…è£…ç±»å‹</h4>
            <table>
                <thead>
                    <tr>
                        <th>æºç±»å‹</th>
                        <th>ç›®æ ‡ç±»å‹</th>
                        <th>è¯´æ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td><code>int</code></td><td><code>Integer</code></td><td>è‡ªåŠ¨è£…ç®±</td></tr>
                    <tr><td><code>Integer</code></td><td><code>int</code></td><td>è‡ªåŠ¨æ‹†ç®±ï¼Œnull è½¬æ¢ä¸º 0</td></tr>
                    <tr><td><code>long</code></td><td><code>Long</code></td><td>è‡ªåŠ¨è£…ç®±</td></tr>
                    <tr><td><code>Long</code></td><td><code>long</code></td><td>è‡ªåŠ¨æ‹†ç®±ï¼Œnull è½¬æ¢ä¸º 0L</td></tr>
                    <tr><td><code>double</code></td><td><code>Double</code></td><td>è‡ªåŠ¨è£…ç®±</td></tr>
                    <tr><td><code>Double</code></td><td><code>double</code></td><td>è‡ªåŠ¨æ‹†ç®±ï¼Œnull è½¬æ¢ä¸º 0.0</td></tr>
                    <tr><td><code>float</code></td><td><code>Float</code></td><td>è‡ªåŠ¨è£…ç®±</td></tr>
                    <tr><td><code>Float</code></td><td><code>float</code></td><td>è‡ªåŠ¨æ‹†ç®±ï¼Œnull è½¬æ¢ä¸º 0.0f</td></tr>
                    <tr><td><code>short</code></td><td><code>Short</code></td><td>è‡ªåŠ¨è£…ç®±</td></tr>
                    <tr><td><code>Short</code></td><td><code>short</code></td><td>è‡ªåŠ¨æ‹†ç®±ï¼Œnull è½¬æ¢ä¸º 0</td></tr>
                    <tr><td><code>byte</code></td><td><code>Byte</code></td><td>è‡ªåŠ¨è£…ç®±</td></tr>
                    <tr><td><code>Byte</code></td><td><code>byte</code></td><td>è‡ªåŠ¨æ‹†ç®±ï¼Œnull è½¬æ¢ä¸º 0</td></tr>
                    <tr><td><code>char</code></td><td><code>Character</code></td><td>è‡ªåŠ¨è£…ç®±</td></tr>
                    <tr><td><code>Character</code></td><td><code>char</code></td><td>è‡ªåŠ¨æ‹†ç®±ï¼Œnull è½¬æ¢ä¸º '\u0000'</td></tr>
                    <tr><td><code>boolean</code></td><td><code>Boolean</code></td><td>è‡ªåŠ¨è£…ç®±</td></tr>
                    <tr><td><code>Boolean</code></td><td><code>boolean</code></td><td>è‡ªåŠ¨æ‹†ç®±ï¼Œnull è½¬æ¢ä¸º false</td></tr>
                </tbody>
            </table>
            
            <h4>åŒåå­—æ®µæ‹·è´</h4>
            <p>å¯¹äºåŒåå­—æ®µï¼ŒFast Bean Copier ä¼šè‡ªåŠ¨æ‹·è´ï¼Œæ— è®ºç±»å‹æ˜¯å¦ç›¸åŒï¼ˆåªè¦å…¼å®¹ï¼‰ã€‚</p>
            <p><strong>ç¤ºä¾‹</strong>ï¼š</p>
            <pre><code>public class User {
    private String name;  // String ç±»å‹
}

@CopyTarget(source = User.class)
public class UserDto {
    private String name;  // è‡ªåŠ¨ä» User.name æ‹·è´
}</code></pre>
            
            <h2>Null å€¼å¤„ç†</h2>
            
            <h3>å¯¹è±¡çº§åˆ«çš„ null å¤„ç†</h3>
            <p>æ‰€æœ‰æ˜ å°„æ–¹æ³•éƒ½æ”¯æŒ null å€¼å¤„ç†ï¼š</p>
            <pre><code>UserDto dto = UserDtoCopier.toDto(null);  // è¿”å› null
User user = UserDtoCopier.fromDto(null);  // è¿”å› null
List&lt;UserDto&gt; dtos = UserDtoCopier.toDtoList(null);  // è¿”å› null</code></pre>
            
            <h3>å­—æ®µçº§åˆ«çš„ null å¤„ç†</h3>
            <p>åœ¨å­—æ®µæ˜ å°„æ—¶ï¼Œnull å€¼ä¼šè¢«ä¿ç•™ï¼š</p>
            <pre><code>User user = new User();
user.setId(1L);
user.setName(null);  // name ä¸º null

UserDto dto = UserDtoCopier.toDto(user);
// dto.name ä¹Ÿä¸º null</code></pre>
            
            <h3>åŒ…è£…ç±»å‹ null è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹</h3>
            <p>å½“ä»åŒ…è£…ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹æ—¶ï¼Œnull å€¼ä¼šè½¬æ¢ä¸ºé»˜è®¤å€¼ï¼š</p>
            <pre><code>@CopyTarget(source = UserDto.class)
public class User {
    private int age;  // åŸºæœ¬ç±»å‹
}

UserDto userDto = new UserDto();
userDto.setAge(null);  // age ä¸º null

User user = UserDtoCopier.fromDto(userDto);
// user.age ä¸º 0ï¼ˆint çš„é»˜è®¤å€¼ï¼‰</code></pre>
            
            <h2>å­—æ®µå¿½ç•¥</h2>
            
            <h3>ä½¿ç”¨ ignore å±æ€§</h3>
            <p>ä½¿ç”¨ <code>@CopyTarget</code> æ³¨è§£çš„ <code>ignore</code> å±æ€§å¯ä»¥æŒ‡å®šè¦å¿½ç•¥çš„å­—æ®µï¼š</p>
            <pre><code>@CopyTarget(source = User.class, ignore = {"password", "token"})
public class UserDto {
    private Long id;
    private String name;
    private String email;
    // password å’Œ token ä¸ä¼šè¢«æ‹·è´
}</code></pre>
            
            <h3>å¤šä¸ªå­—æ®µå¿½ç•¥</h3>
            <pre><code>@CopyTarget(
    source = User.class,
    ignore = {"password", "token", "secretKey", "internalId"}
)
public class UserDto {
    // ...
}</code></pre>
            
            <h2>é›†åˆæ˜ å°„</h2>
            
            <h3>List æ˜ å°„</h3>
            <pre><code>// è½¬æ¢ä¸º DTO åˆ—è¡¨
List&lt;UserDto&gt; dtos = UserDtoCopier.toDtoList(users);

// åå‘è½¬æ¢
List&lt;User&gt; users = UserDtoCopier.fromDtoList(dtos);</code></pre>
            
            <h3>Set æ˜ å°„</h3>
            <pre><code>// è½¬æ¢ä¸º DTO é›†åˆ
Set&lt;UserDto&gt; dtoSet = UserDtoCopier.toDtoSet(users);

// åå‘è½¬æ¢
Set&lt;User&gt; userSet = UserDtoCopier.fromDtoSet(dtoSet);</code></pre>
            
            <h3>é›†åˆä¸­çš„ null å¤„ç†</h3>
            <pre><code>// é›†åˆä¸º null æ—¶è¿”å› null
List&lt;UserDto&gt; dtos = UserDtoCopier.toDtoList(null);  // è¿”å› null

// é›†åˆä¸­çš„ null å…ƒç´ è¢«ä¿ç•™
List&lt;UserDto&gt; dtos = UserDtoCopier.toDtoList(
    Arrays.asList(user1, null, user2)
);
// ç»“æœä¸­åŒ…å« 3 ä¸ªå…ƒç´ ï¼Œç¬¬äºŒä¸ªä¸º null</code></pre>
            
            <h3>Map ä¸æ•°ç»„æ·±æ‹·è´ï¼ˆv1.1ï¼‰</h3>
            <pre><code>Map&lt;String, User&gt; map = Collections.singletonMap("u1", new User(1L, "Tom", "t@test.com", 20));
Map&lt;String, UserDto&gt; dtoMap = UserDtoCopier.toDtoMap(map); // ç”±ç”Ÿæˆçš„ Copier æä¾›

User[] arr = new User[]{new User(1L, "Jerry", "j@test.com", 18)};
UserDto[] dtoArr = UserDtoCopier.toDtoArray(arr);</code></pre>
            <ul>
                <li>Mapï¼šKey é€šå¸¸ç›´æ¥æ‹·è´ï¼ŒValue æŒ‰æ·±æ‹·è´è§„åˆ™å¤„ç†ï¼›null Map/Value ä¿ç•™ã€‚</li>
                <li>æ•°ç»„ï¼šæŒ‰å…ƒç´ æ·±æ‹·è´ï¼Œæ”¯æŒå¤šç»´æ•°ç»„ä¸ null å…ƒç´ ã€‚</li>
                <li>Raw/æ— ç•Œé€šé…ç¬¦é›†åˆä¼šé™çº§ä¸ºæµ…æ‹·è´å¹¶ç»™å‡ºç¼–è¯‘æœŸè­¦å‘Šã€‚</li>
            </ul>
            
            <h2>çº¿ç¨‹å®‰å…¨æ€§</h2>
            <p>ç”Ÿæˆçš„ Copier ç±»æ˜¯æ— çŠ¶æ€çš„ï¼Œå¯ä»¥å®‰å…¨åœ°åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</p>
            <pre><code>// åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å®‰å…¨ä½¿ç”¨
ExecutorService executor = Executors.newFixedThreadPool(10);
for (User user : users) {
    executor.submit(() -&gt; {
        UserDto dto = UserDtoCopier.toDto(user);
        // å¤„ç† dto
    });
}</code></pre>
            
            <h2>æ€§èƒ½ç‰¹æ€§</h2>
            <ul>
                <li><strong>ç¼–è¯‘æœŸä»£ç ç”Ÿæˆ</strong> - æ— è¿è¡Œæ—¶å¼€é”€</li>
                <li><strong>æ— åå°„</strong> - ç›´æ¥è°ƒç”¨ getter/setter</li>
                <li><strong>æ— åŠ¨æ€ä»£ç†</strong> - ç”Ÿæˆçš„ä»£ç æ˜¯æ™®é€š Java ä»£ç </li>
                <li><strong>å†…è”å‹å¥½</strong> - JIT ç¼–è¯‘å™¨å¯ä»¥å†…è”ç”Ÿæˆçš„ä»£ç </li>
            </ul>
            
            <h2>å¼‚å¸¸å¤„ç†</h2>
            <p>Fast Bean Copier ç”Ÿæˆçš„ä»£ç ä¸ä¼šæŠ›å‡ºæ£€æŸ¥å¼‚å¸¸ã€‚å¦‚æœåœ¨ getter/setter ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œå¼‚å¸¸ä¼šç›´æ¥ä¼ æ’­ç»™è°ƒç”¨è€…ã€‚</p>
            <pre><code>try {
    UserDto dto = UserDtoCopier.toDto(user);
} catch (RuntimeException e) {
    // å¤„ç†å¼‚å¸¸
}</code></pre>
        </div>
    </div>
    
    <footer>
        <p>&copy; 2026 Fast Bean Copier. All rights reserved.</p>
        <p>é‡‡ç”¨ Apache License 2.0 è®¸å¯è¯</p>
    </footer>
    
    <script src="../script.js"></script>
</body>
</html>

